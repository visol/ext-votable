!function(a){function b(b,c){var d=a("#"+b).html()||"",e=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+d.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return c?e(c):e}a.fn.votable=function(c){var d=a.extend(a.fn.votable.options,c);return this.each(function(c,e){var f="",g=parseInt(a(e).data("object"));f=d.userIsAuthenticated?a.inArray(g,d.votedItems)>-1?b(d.templateIdentifier,{status:"vote-done hasTooltip",enabledOrDisabled:"disabled",tooltip:d.label.tooltip,voting:d.label.voting,text:d.label.alreadyVoted}):b(d.templateIdentifier,{status:"vote-ready hasTooltip",enabledOrDisabled:"enabled",tooltip:d.label.tooltip,voting:d.label.voting,text:d.label.vote}):b(d.templateIdentifier,{status:"vote-authentication-required",enabledOrDisabled:"disabled",tooltip:"",voting:d.label.voting,text:d.label.authenticationRequired}),a(this).html(f)}),a(".vote-authentication-required").off("click").on("click",d.whenUserIsLoggedOff),a(".vote-ready").on("click",function(b){console.log(123),b.preventDefault(),a(this).hide().previous().show()}),this};a.fn.votable.options={whenUserIsLoggedOff:function(){},userIsAuthenticated:!1,templateIdentifier:"votable-template",votedItems:[],label:{authenticationRequired:"log-in to vote",alreadyVoted:"You already voted",tooltip:"You can vote only once for this item.",voting:"Voting...",vote:"vote"}}}(jQuery);